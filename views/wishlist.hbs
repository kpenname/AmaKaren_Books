<h2>Your Wishlist</h2>


<p>The books in your wishlist:</p>   
{{#each wishlist}}
    <div>
        <p>{{title}} by: {{author}}</p>    
    </div>
{{/each}} 
<br/>

<div class="form-header">
    <h3 id="wishlistHeading">Add to your wishlist</h3>
</div>
<div id="addWishlist" style="visibility: hidden; height: 0;">
    <form name="addWishlist" action="/account/addWishlist" method="POST" class="form" enctype="application/x-www-form-urlencoded" id="addWishlist">
        <input type="text" class="input" id="txtWishlistTitle" name="txtWishlistTitle" placeholder="Title" required />
        <input type="text" class="input" id="txtWishlistAuthor" name="txtWishlistAuthor" placeholder="Author" required />       
        
        <button class="btn" type="submit">Add this book</button>
    </form>
</div>

<h4 id="showBooksHeading">Show books in your area</h4>
<div id="map"></div>

<script>
  let wishlistHeading = document.getElementById("wishlistHeading");
  wishlistHeading.addEventListener("click", showAddWishlist);
  wishlistHeading.style.cursor = "pointer";

  function showAddWishlist() {
  let addWishlist = document.getElementById("addWishlist");
  if (addWishlist.style.visibility === "hidden") {
    addWishlist.style.visibility = "visible";
    addWishlist.style.height = "100%";
  } else {
    addWishlist.style.visibility = "hidden";
    addWishlist.style.height = "0";
  }
}

function displayMap() {
  map = new mapboxgl.Map({
    container: "map",
    style: "mapbox://styles/penname/ckav7dgfc3ahh1iqk14lkdzez",
    center: [-75.747, 45.455],
    zoom: 12,
  });
  

  map.on("load", () => {
    map.resize();
  });
}
displayMap();
</script>

